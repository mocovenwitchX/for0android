<mxGraphModel dx="800" dy="800" grid="1" guides="1" tooltips="1" connect="1" fold="1" page="1" pageScale="1" pageWidth="826" pageHeight="1169" style="default-style2"><root><mxCell id="0"/><mxCell id="1" parent="0"/><mxCell id="2" value="" style="shape=actor;whiteSpace=wrap" vertex="1" parent="1"><mxGeometry x="44" y="240" width="40" height="60" as="geometry"/></mxCell><mxCell id="3" value="gpg2 --sign foo" style="rounded=1;whiteSpace=wrap" vertex="1" parent="1"><mxGeometry x="164" y="240" width="120" height="60" as="geometry"/></mxCell><mxCell id="4" value="gpg-agent" style="rounded=1;whiteSpace=wrap" vertex="1" parent="1"><mxGeometry x="364" y="240" width="120" height="60" as="geometry"/></mxCell><mxCell id="9" value="pinentry-android.c" style="rounded=1;whiteSpace=wrap" vertex="1" parent="1"><mxGeometry x="364" y="350" width="120" height="60" as="geometry"/></mxCell><mxCell id="10" value="" style="endArrow=none" edge="1" parent="1" source="2" target="3"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="11" value="" style="endArrow=block;endFill=1;startArrow=block;startFill=1" edge="1" parent="1" source="3" target="4"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="12" value="1. stdin + stdout" style="endArrow=block;endFill=1;startArrow=block;startFill=1" edge="1" parent="1" source="4" target="9"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="18" value="Legend&#xa;" style="swimlane;whiteSpace=wrap" vertex="1" parent="1"><mxGeometry x="635" y="270" width="170" height="280" as="geometry"/></mxCell><mxCell id="13" value="native code" style="rounded=1;whiteSpace=wrap" vertex="1" parent="18"><mxGeometry x="20" y="40" width="120" height="60" as="geometry"/></mxCell><mxCell id="14" value="java code" style="ellipse;whiteSpace=wrap" vertex="1" parent="18"><mxGeometry x="40" y="140" width="80" height="80" as="geometry"/></mxCell><mxCell id="19" value="PinentryAgent&#xa;(Domain socket Server)" style="ellipse;whiteSpace=wrap" vertex="1" parent="1"><mxGeometry x="54" y="360" width="100" height="100" as="geometry"/></mxCell><mxCell id="20" value="PinentryActivity" style="ellipse;whiteSpace=wrap" vertex="1" parent="1"><mxGeometry x="64" y="560" width="110" height="100" as="geometry"/></mxCell><mxCell id="21" value="3. startActivity" style="endArrow=block;endFill=1;strokeColor=#FF0000" edge="1" parent="1" source="19" target="20"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="22" value="2. connect()" style="endArrow=block;startArrow=none;startFill=0;endFill=1;strokeColor=#FF0000" edge="1" parent="1" source="9" target="19"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="24" value="pinentry_cmd_handler.c" style="rounded=1;whiteSpace=wrap" vertex="1" parent="1"><mxGeometry x="344" y="580" width="160" height="60" as="geometry"/></mxCell><mxCell id="25" value="JNI&#xa;7. show ui elements&#xa;prompt user for PIN" style="endArrow=block;endFill=1;startArrow=block;startFill=1" edge="1" parent="1" source="20" target="24"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="29" value="4. connect()" style="endArrow=none;startArrow=block;startFill=1" edge="1" parent="1"><mxGeometry x="0.29411764705882354" y="6" relative="1" as="geometry"><mxPoint x="384" y="410" as="sourcePoint"/><mxPoint x="384" y="580" as="targetPoint"/><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="30" value="5. send_fd(stdin)&#xa;send_fd(stdout)" style="edgeStyle=none;endArrow=none;dashed=1;endFill=0;startArrow=block;startFill=1" edge="1" parent="1"><mxGeometry x="0.058823529411764705" y="-6" width="100" height="100" relative="1" as="geometry"><mxPoint x="464" y="580" as="sourcePoint"/><mxPoint x="464" y="410" as="targetPoint"/><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="31" value="6. assuan protocol" style="curved=1;exitX=1;exitY=0.5;entryX=1;entryY=0.5" edge="1" parent="1" source="24" target="4"><mxGeometry width="100" height="100" relative="1" as="geometry"><mxPoint x="604" y="620" as="sourcePoint"/><mxPoint x="704" y="520" as="targetPoint"/><Array as="points"><mxPoint x="574" y="530"/><mxPoint x="564" y="310"/></Array></mxGeometry></mxCell><mxCell id="32" value="GnuPG's pinentry on Android" style="text;spacingTop=-5;fontSize=36" vertex="1" parent="1"><mxGeometry x="149" y="90" width="30" height="20" as="geometry"/></mxCell><mxCell id="33" value="The Guardian Project - 2013&#xa;https://guardianproject.info" style="text;spacingTop=-5;" vertex="1" parent="1"><mxGeometry x="350" y="690" width="30" height="20" as="geometry"/></mxCell><mxCell id="34" value="aka. &#xa;The Great JNI + UNIX Domain Socket Clusterfuck&#xa;v2 - slightly less sockety" style="text;spacingTop=-5;fontSize=18;align=center" vertex="1" parent="1"><mxGeometry x="380" y="150" width="30" height="20" as="geometry"/></mxCell><mxCell id="36" value="" style="shape=mxgraph.basic.x;fillColor=#FF0000;strokeColor=#000000;strokeWidth=2" vertex="1" parent="1"><mxGeometry x="53" y="362" width="96" height="98" as="geometry"/></mxCell><mxCell id="37" value="am  start command" style="endArrow=block;endFill=1" edge="1" parent="1" source="9" target="20"><mxGeometry relative="1" as="geometry"/></mxCell></root></mxGraphModel>